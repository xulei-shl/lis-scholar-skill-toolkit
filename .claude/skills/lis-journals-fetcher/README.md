# CNKI 期刊论文获取工具

定期批量获取 CNKI 期刊最新论文信息的交互式工具。

## 功能特性

- 读取期刊信息列表，自动计算需要爬取的年期
- 支持首次爬取和增量爬取两种模式
- 交互式确认和回退机制
- 自动更新"上一次获取年期"状态
- 按期刊分类保存论文数据

## 使用方法

### 启动 Skill

在 Claude Code 中输入：

```
/cnki-journals-fetcher
```

### 操作流程

1. **选择期刊**：输入期刊编号或名称
2. **确认计划**：查看将要爬取的年期
3. **执行爬取**：自动调用爬虫脚本
4. **查看结果**：显示爬取统计和保存路径

## 期刊信息管理

期刊信息存储在 `reference/期刊信息.md` 中：

```markdown
| 期刊名       | 网址  | 发行周期 | 年期数 | 上一次获取年期 |
| ------------ | ----- | -------- | ------ | -------------- |
| 中国图书馆学报 | ...   | 双月     | 1-6    | 2025-4        |
```

### 发行周期说明

| 周期 | 期数范围 | 说明 |
| ---- | -------- | ---- |
| 月刊 | 1-12     | 每月一期 |
| 双月刊 | 1-6     | 每两月一期 |
| 季刊 | 1-4      | 每季一期 |

## 输出结果

爬取的论文数据保存为 JSON 格式：

```
outputs/
├── 中国图书馆学报/
│   ├── 2025-5.json
│   └── 2025-6.json
└── 图书情报知识/
    └── 2025-5.json
```

### JSON 格式示例

```json
[
  {
    "title": "论文标题",
    "author": "作者1; 作者2",
    "pages": "1-10",
    "abstract_url": "https://kns.cnki.net/kcms2/article/abstract?...",
    "abstract": "论文摘要内容..."
  }
]
```

## 示例输出

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✅ 爬取任务完成
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 任务统计
┌─────────────────────────────────────┐
│ 期刊名称    │ 中国图书馆学报          │
│ 网址        │ navi.cnki.net/.../ZGTS  │
│ 发行周期    │ 双月刊                   │
│ 计划爬取    │ 2025-5, 2025-6          │
│ 成功获取    │ 2025-5 (12篇)           │
│ 失败        │ 2025-6 (未发布)         │
├─────────────────────────────────────┤
│ 状态已更新  │ 上次获取: 2025-4 → 2025-5│
│ 结果保存    │ outputs/中国图书馆学报/  │
└─────────────────────────────────────┘

📁 已保存文件:
  • outputs/中国图书馆学报/2025-5.json
```

## 依赖

- Python 3.8+
- Playwright 浏览器
- 依赖包见 `scripts/requirements.txt`

## 注意事项

1. 确保已安装 Python 和 Playwright 浏览器
2. 爬取频率不宜过高，避免对服务器造成压力
3. 如遇到验证码，可能需要登录 CNKI 账号
4. 请确保爬取行为符合 CNKI 使用条款

# Gmail - Advanced Usage

## Handling Large Email Content

When email output exceeds ~40KB (shows "output too large" message), use `email_formatter.py` to format.

### Google Scholar Alerts Formatting

Automatically extracts paper titles, authors, sources, abstracts, etc.

```bash
# Step 1: Search to get email IDs
python $CLAUDE_PROJECT_DIR/.claude/skills/gmail-skill/scripts/gmail_skill.py search "from:scholaralerts-noreply@google.com after:2026/2/1"

# Step 2: Read multiple emails in parallel, save to temp files
python $CLAUDE_PROJECT_DIR/.claude/skills/gmail-skill/scripts/gmail_skill.py read "id1" > /tmp/emails.json

python $CLAUDE_PROJECT_DIR/.claude/skills/gmail-skill/scripts/gmail_skill.py read "id2" >> /tmp/emails.json

# Step 3: Format to Markdown using email_formatter.py
python $CLAUDE_PROJECT_DIR/.claude/skills/gmail-skill/scripts/email_formatter.py /tmp/emails.json

# Output automatically saved to outputs/emails/YYYY-MM-DD-google-scholar-alerts.md
```

### Using Pipe for Direct Processing

```bash
# Single email direct pipe
python $CLAUDE_PROJECT_DIR/.claude/skills/gmail-skill/scripts/gmail_skill.py read "id1" | \
  python $CLAUDE_PROJECT_DIR/.claude/skills/gmail-skill/scripts/email_formatter.py - \
  --output outputs/emails/my-alert.md
```

### email_formatter.py Parameters

| Parameter | Description |
|------|------|
| `input` | Input file path, or `-` for stdin |
| `--output, -o` | Specify output file path (optional, auto-generated by default) |
| `--output-dir` | Output directory for auto-generated files (default: outputs/emails) |

## Parallel Execution Mode

For multiple independent operations, use multiple independent Bash tool calls for parallel execution:

```bash
# Execute multiple independent commands in parallel in a single response
python $CLAUDE_PROJECT_DIR/.claude/skills/gmail-skill/scripts/gmail_skill.py read "id1"
```

```bash
python $CLAUDE_PROJECT_DIR/.claude/skills/gmail-skill/scripts/gmail_skill.py read "id2"
```

> **Note**: Do not use `&`, `&&`, or `;` to connect commands. Each command should be an independent Bash tool call for true parallel execution.
